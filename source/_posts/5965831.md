---
title: 你不得不知的Git指令
date: 2017-03-12 16:49:21
tags: 
	- Git
	- 教程
categories: 程序猿叨叨叨
---

# Git常用命令速查表

![图片盗自简书用户[*HalShaw*](http://www.jianshu.com/users/1d69810aa9f0)](http://upload-images.jianshu.io/upload_images/291600-2a9d3e2e5ab123b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

这张表包含了大部分我们上传项目代码时用到的命令，但是毫无头绪地查看这张表，对于我们未接触过Git的读者们来说肯定是无从下手的，所以我们按照上传一个项目的流程过一下我们使用的Git命令。

# 上传代码流程

* **注册Github账号**
![注册Github账号](http://upload-images.jianshu.io/upload_images/291600-9378ea1489257a9e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

点击[这里](https://github.com/join?source=header-home)进行账号的注册，注册过程在此不做过多讲解，各位读者们按照套路来即可。

* **新建Github仓库**
![新建Github仓库](http://upload-images.jianshu.io/upload_images/291600-2a347bace9ad7467.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
这里的仓库指的就是Github网站上存放代码的地方，点击[这里](https://github.com/new)新建我们的项目，按套路填写项目的相关信息，这里提一点：
新建项目时有一个**Initialize this repository with a README**选项，如果勾选，会在新建项目过程中生成一个**README.md**的文件，md指的是Markdown文件，其作用是对我们的项目进行描述，以比较有名的**ButterKnife**为例，我们看到的下图内容，就是通过README.md文件实现的，它出现在项目根目录中，方便他人对我们的项目进行了解。
![QQ20161102-2.png](http://upload-images.jianshu.io/upload_images/291600-06f2a59451417656.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
新建完毕后，若出现如下图所示，则我们新建项目完毕，我们可以看到我们的远程（即Github项目网站上的，下同）项目文件结构：
![Github项目结构](http://upload-images.jianshu.io/upload_images/291600-928be475eb3f8c73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

* **配置Git命令环境**
Git命令需要在对应的环境下才能使用，本节我们来下载配置Git命令环境，点击[这里](http://git-scm.com/downloads)进入Git下载页面进行下载：
![git下载页面](http://upload-images.jianshu.io/upload_images/291600-30404e246f38dc49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
下载安装按套路一步一步来，安装完毕后，Git命令环境也就搭建完成了。

* **上传本地工程代码**
笔者开发安卓，所以上传的代码以安卓工程为例，打开命令行，进入项目根目录，开始如下操作：

```
// 进入项目根目录，当前项目名为Mitu，本地项目名和远程仓库的命长可以不一致
cd /Volumes/J_Eric/J_workRoom/AndroidStudio/MiTu
// 初始化本地项目的git，会在当前目录下生成一个.git文件夹，所有的git配置都在其中
git init
// 建立远程连接，项目连接可在Github相应目录下得到，如下图
git remote add origin https://github.com/inerdstack/MyFirstProject.git
// 添加账户信息：账户名
git config user.name "inerdstack"
// 添加账户信息：绑定的邮箱
git config user.email "wjnovember@gmail.com"
// 添加本地项目文件（夹子）,"."或"-A"表示添加所有文件
// 若添加个别文件，可以输入文件路径，多个文件之间以空格隔开
git add .
// 添加本次提交描述
git commit -m "我的第一次提交"
// 因为我们远程新建项目的时候，自动生成了README.md的文件
// 所以我们需要将远程的文件先拉到本地，与本地文件进行合并比较
// master表示项目的分支，默认主分支（master）
git pull origin master
// 拉到本地后，进行核查，如果文件不存在冲突，则进行上传，将本地项目推上去
git push origin master
```

![得到远程链接](http://upload-images.jianshu.io/upload_images/291600-98f7f51eb6b76365.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

至此，我们项目上传完毕，可以在Github网站上看到工程文件：

![远程代码](http://upload-images.jianshu.io/upload_images/291600-e3dc7fc8b2c5dd5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

上面我们讲解的是HTTPS的上传方式，除此之外，我们还可以使用SSH的方式上传，与HTTPS基本类似，其区别有以下两点：

**1.在git push命令前添加项目的deploy key:**

![Add deploy key](http://upload-images.jianshu.io/upload_images/291600-d038979e60c3d045.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在Terminal中输入：

```
// 生成key
ssh-keygen -t rsa -C "Github的注册邮箱地址"
// 打开key文件所在的文件夹，默认路径：~/.ssh
open ~/.ssh
```

![.ssh文件](http://upload-images.jianshu.io/upload_images/291600-fd15bf59916887d6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

打开id_rsa.pub文件，复制所有内容，进入Github仓库里的Deploy key设置页面，点击**Add deploy key**，在key项粘贴复制的内容，输入好标题（随意输入）点击**Add key**完成key的添加。

**2.git remote add origin链接改为：**

![SSH](http://upload-images.jianshu.io/upload_images/291600-f47bd3471980c035.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# 创建分支

在实际开发中，开发者会把上线的代码和平时写的代码区分开，这时候需要创建一个分支（注意与默认的主分支master区别开），上线的代码放到主分支上，平时的代码每完成一个模块就会放到新建的分支上。

创建分支分两部分：

**1. 远程创建分支**

![远程创建分支](http://upload-images.jianshu.io/upload_images/291600-0f70c61afef5332a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在远程的项目仓库中，点击branch，在输入框输入新分支的名称，按回车键完成远程分支的创建，新建的分支，其文件目录与创建时master的文件目录一样。

**2. 本地创建分支并上传**

打开Terminal，在本地项目根目录下，实现如下操作：

```
// 创建一个新的分支
git checkout -b "debug"
// 拉分支上的代码到本地，实现代码同步
git pull origin debug
// 推本地的代码到远程的分支
git push origin debug
```

# 克隆工程

当工程项目上传Github后，需要在另一台设备上得到项目代码，这时候我们可以使用**克隆**将远程的代码拿到本地，Terminal命令如下：

```
// 将远程的仓库克隆到本地
git clone https://github.com/inerdstack/MyFirstProject.git
// 若想远程克隆分支上的代码，则添加-b 分支名
git clone -b debug https://github.com/inerdstack/MyFirstProject.git
```

**这里注意一下**：*克隆过来的工程文件夹里面是不包含.git文件的，所以克隆过来的项目若要上传Github需要重新按项目上传流程走一遍。*

# 分支合并

当项目上线时，次分支上的代码会同步到主分支上，我们会用到分支的合并，打开命令行，进行如下操作：

```
// 将当前分值切换到主分支
git checkout master
// 将次分支的文件合并到主分支
git merge origin/debug
```

笔者使用上述指令合并了分支，但Github上的仓库依然未显示分支合并，debug分支上的文件未同步到主分支，对此表示不解，若各位读者们知晓其中的错误，欢迎指正。对于分支的新建与合并，想要了解更多可点击[这里](https://git-scm.com/book/zh/ch3-2.html)。

以上即常用git指令的简单操作，感谢大家的阅读！
