---
title: hexo搭建的Github博客绑定域名
date: 2017-03-12 16:38:52
tags: 
	- Hexo
	- 博客
	- Github
	- 域名
	- 教程
categories: 博客搭建从入门到懵圈
---
# 前情提要

前几天使用hexo搭建了Github博客，感觉像拥有了自己的小窝一样，很有成就感。但是看着博客的域名是二级域名，总有一种寄人篱下的感觉，为了让这个小窝看起来更加正式，我在阿里云上买了一个域名，打算将博客绑定自己的域名。其实Github博客绑定域名很简单，但是查找了网上的教程，发现基本上都是文字描述，在具体操作过程中存在歧义，导致我个人走了一些弯路，如今用图文描述的方式记录下来，帮助新人们一步走通。

# 购买域名

本人在阿里云网站购买的域名，因此本教程以阿里云为栗子，进入[阿里云域名注册页面](https://www.aliyun.com/)。

![万维网 域名注册](http://upload-images.jianshu.io/upload_images/291600-b4009c6ed1164f40.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

输入我们想要的域名，进行查询，选择未被注册的域名进行购买：

![购买域名](http://upload-images.jianshu.io/upload_images/291600-917d7eb20516ad6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

接下来就是按套路来的下订单购买流程，在此不作多讲。对于域名的选择，这里给几个建议：

```
1. 域名尽量知其名闻其意，与网站内容详尽为宜
2. 域名长度尽可能短，方便他人记住自己的网站
3. 域名尽量随机数字和英文结合，这样网站看似不正规，访客看到这个域名会误认为是诈骗网站
4. 个人博客域名推荐:.com、.cn、me、.studio等，同样遵循至其名问其意的原则
```

# 域名解析

购买域名后，我们登录进入阿里云官网的[控制台](https://home.console.aliyun.com/?spm=5176.8142029.388261.21.ZtVm97)，在域名列表中可查看自己购买的域名：

![域名列表](http://upload-images.jianshu.io/upload_images/291600-cfe23d089a6d4fdf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

点击列表中对应的域名所在列的**解析**，进入解析界面：

![域名解析](http://upload-images.jianshu.io/upload_images/291600-eae597fd9e1173ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

点击**添加解析**按钮，如图一次输入：**CNAME**、**@**、**Github博客域名**。选择保存完成个人域名向个人博客的映射。添加解析后，在浏览器输入我们新注册的域名：

![404](http://upload-images.jianshu.io/upload_images/291600-b616fdfde172b082.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

可以看到网站报出了**404**错误，这说明我们的域名已经成功映射到了Github网站，但是它找不到我们的博客的位置，所以我们需要实现个人博客向个人域名的映射，进入Github博客的仓库：

![Github博客仓库](http://upload-images.jianshu.io/upload_images/291600-1018a6ad868b33fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

点击上图上方偏右的**Create new file**按钮，创建一个文件：

![添加CNAME文件](http://upload-images.jianshu.io/upload_images/291600-6c333ca3e16743af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

文件名为**CNAME**(注意：没有扩展名)，文件内容为**个人域名**(注意：没有**http://**，没有**www**)，然后选择下方的**Commit new file**按钮。然后在浏览器端重新输入我们的域名，我们可以看到域名绑定成功：

![域名绑定成功](http://upload-images.jianshu.io/upload_images/291600-1a71090ce0e60b84.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

但是这时候我们不能高兴得太早，这时候问题开始出现了。

# 问题及解决

当我们在本地使用`hexo deploy`命令再一次部署博客时，会发现博客网页的**css样式丢失**或是**404**错误，这是因为本地的博客工程里面还没有CNAME，当我们重新部署后，远程的博客工程会和本地保持同步，将CNAME文件删除，所以我们要在本地添加CNAME文件：

![本地添加CNAME文件](http://upload-images.jianshu.io/upload_images/291600-8463c624350132ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

这里我们需要注意的是：CNAME文件添加的目录是在根目录下的source文件夹，而不是.deploy_git文件夹，完成添加后重新部署，博客网站又会恢复正常。

参考：
[github怎么绑定自己的域名？](https://www.zhihu.com/question/31377141)
[hexo部署后，CNAME会被自动删除，怎么办？](http://www.zhihu.com/question/28814437)