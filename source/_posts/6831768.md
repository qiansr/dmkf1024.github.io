---
title: Andorid中常用的延迟执行任务的方法
date: 2017-03-12 16:10:53
tags: 
	- Android
	- 延迟
	- 任务
categories: Android从入门到炸机
---
# 前情提要

在APP开发中，经常会遇到一些没有接触过的布局，这时候我们会选择写一个小Demo，但是Demo中不会用网络数据填充的，而是用静态的虚拟数据，这时候我们就要模仿网络延时，接下来我们来看看Android中常用的延迟执行的方法。

# 线程

第一种方法是创建一个新线程，在新线程中调用sleep方法，达到延迟执行的效果。

```
new Thread(new Runnable() {
    @Override
    public void run() {
        // time单位毫秒
        Thread.sleep(time);
        // 发送消息至主线程执行任务
        handler.sendMessage(msg);
    }
}).start();
```

# 延时器

调用Timer的schedule方法是任务延迟执行，达到延时的效果。

```
TimerTask task = new TimerTask() {
    @Override
    public void run() {
        // 执行操作
    }
};
Timer timer = new Timer();
// delay表示延迟的时间，单位：ms
timer.schedule(task, delay);
```

# 消息处理

调用Handler的postDelayed方法延迟发送消息，主线程延迟执行任务，实现网络延迟的效果。

```
new Handler().postDelayed(new Runnable() {
    @Override
    public void run() {
        // 执行操作
    }
}, delay);
```

知识比较基础，以记此文作为备忘。

—End—